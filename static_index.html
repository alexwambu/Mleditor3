<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Geth Multi-node Provisioner</title>
  <style>
    body { font-family: Arial; margin: 20px; }
    .box { padding: 12px; border-radius: 8px; background: #fff; box-shadow: 0 1px 4px rgba(0,0,0,0.06); margin-bottom: 12px; }
  </style>
  <script>
    async function provision() {
      const num = document.getElementById('num').value || 3;
      const chain = document.getElementById('chain').value || 1515;
      const data = new URLSearchParams();
      data.append('num_nodes', num);
      data.append('chain_id', chain);
      const res = await fetch('/provision', { method: 'POST', body: data });
      const json = await res.json();
      document.getElementById('res').innerText = JSON.stringify(json, null, 2);
      loadNodes();
    }
    async function loadNodes() {
      const res = await fetch('/nodes');
      const json = await res.json();
      document.getElementById('nodes').innerText = JSON.stringify(json, null, 2);
    }
    window.onload = loadNodes;
  </script>
</head>
<body>
  <h1>Geth Multi-node Provisioner</h1>

  <div class="box">
    <h3>Provision Cluster</h3>
    Number of nodes: <input id="num" type="number" value="3"/><br/>
    Chain ID: <input id="chain" type="number" value="1515"/><br/>
    <button onclick="provision()">Provision Cluster</button>
  </div>

  <div class="box">
    <h3>Result</h3>
    <pre id="res"></pre>
  </div>

  <div class="box">
    <h3>Nodes</h3>
    <pre id="nodes"></pre>
  </div>
</body>
</html>
